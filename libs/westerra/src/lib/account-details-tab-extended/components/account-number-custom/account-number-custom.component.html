<ng-container
  *ngTemplateOutlet="
    accountNumberTemplate;
    context: {
      accountNumber: number || (account | bbGetAccountNumber),
      accountNumberType: type || (account | bbGetAccountNumberType)
    }
  "
></ng-container
><ng-template #accountNumberTemplate let-accountNumber="accountNumber" let-accountNumberType="accountNumberType">
  <span class="contextual-alternates-off" data-role="account-number__number">
    {{ accountNumber | bbAccountNumber: accountNumberType }}
  </span>
  <ng-container *ngIf="unmaskable">
    <button
      *ngIf="masked; else maskButton"
      bbButton
      triggers="hover focus"
      [bbTooltip]="unmaskButtonTooltip"
      aria-label="Unmask"
      i18n-aria-label="Unmask button@@accounts-transactions-journeys.account-number.unmask-label"
      (click)="onUnmask(accountNumberType)"
      buttonSize="sm"
      [circle]="true"
      color="link"
      type="button"
      data-role="account-number__unmask-button"
    >
      <bb-icon-ui name="visibility"></bb-icon-ui>
    </button>
    <ng-template #maskButton>
      <button
        bbButton
        triggers="hover focus"
        [bbTooltip]="maskButtonTooltip"
        aria-label="Mask"
        i18n-aria-label="Mask button@@accounts-transactions-journeys.account-number.mask-label"
        (click)="onMask(accountNumberType)"
        buttonSize="sm"
        [circle]="true"
        color="link"
        type="button"
        data-role="account-number__mask-button"
      >
        <bb-icon-ui name="visibility-off"></bb-icon-ui>
      </button>
    </ng-template>
    <ng-template #unmaskButtonTooltip>
      <ng-container [ngSwitch]="accountNumberType">
        <ng-container
          *ngSwitchCase="'iban'"
          i18n="Unmask IBAN@@accounts-transactions-journeys.account-number.unmask-iban.tooltip"
        >
          Unmask IBAN
        </ng-container>
        <ng-container
          *ngSwitchCase="'bban'"
          i18n="Show account number@@accounts-transactions-journeys.account-number.unmask-account-number.tooltip"
        >
          Show account number
        </ng-container>
        <ng-container
          *ngSwitchCase="'cardNumber'"
          i18n="Unmask number@@accounts-transactions-journeys.account-number.unmask-number.tooltip"
        >
          Unmask number
        </ng-container>
        <ng-container *ngSwitchDefault i18n="Unmask@@accounts-transactions-journeys.account-number.unmask.tooltip">
          Unmask
        </ng-container>
      </ng-container>
    </ng-template>
    <ng-template #maskButtonTooltip>
      <ng-container [ngSwitch]="accountNumberType">
        <ng-container
          *ngSwitchCase="'iban'"
          i18n="Mask IBAN@@accounts-transactions-journeys.account-number.mask-iban.tooltip"
        >
          Mask IBAN
        </ng-container>
        <ng-container
          *ngSwitchCase="'bban'"
          i18n="Hide account number@@accounts-transactions-journeys.account-number.mask-account-number.tooltip"
        >
          Hide account number
        </ng-container>
        <ng-container
          *ngSwitchCase="'cardNumber'"
          i18n="Mask number@@accounts-transactions-journeys.account-number.mask-number.tooltip"
        >
          Mask number
        </ng-container>
        <ng-container *ngSwitchDefault i18n="Mask@@accounts-transactions-journeys.account-number.mask.tooltip">
          Mask
        </ng-container>
      </ng-container>
    </ng-template>
  </ng-container></ng-template
>
