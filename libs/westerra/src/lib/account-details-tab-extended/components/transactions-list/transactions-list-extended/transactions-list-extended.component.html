<ng-container *ngIf="!hostRef.isLoading || hostRef.isLoadingMore; else loadingState">
  <ng-container *ngIf="hostRef.hasItems(); else emptyState">
    <ng-container
      *ngIf="hostRef.isInfiniteScrollPagination; else normalList"
      [ngTemplateOutlet]="bbTransactionsListWithInfiniteScroll"
      [ngTemplateOutletContext]="{ $implicit: hostRef }"
    ></ng-container>
    <ng-template #normalList>
      <ng-container bbTransactionsListListCustomizable [bbHostRef]="hostRef"> </ng-container>
      <ng-container bbTransactionsListPaginationCustomizable [bbHostRef]="hostRef"> </ng-container>
    </ng-template> </ng-container></ng-container
><ng-template #emptyState>
  <ng-container bbTransactionsListEmptyStateCustomizable [bbHostRef]="hostRef"></ng-container></ng-template
><ng-template #loadingState> <bb-loading-indicator-ui loaderSize="lg"></bb-loading-indicator-ui></ng-template
><ng-template #bbTransactionsListWithInfiniteScroll let-hostRef>
  <div class="bb-list bb-list--density-md">
    <div class="bb-list__item" *ngFor="let date of hostRef.transactionsGroupedByDate; trackBy: hostRef.trackByFn">
      <bb-transactions-list-item-group-extended
        [checkImagesList]="hostRef.checkImagesList"
        [transactions]="date[1]"
        [transactionDate]="date[0]"
        [showChangeCategory]="hostRef.showChangeCategory"
        [transactionDetailsLoadingStatus]="hostRef.transactionDetailsLoadingStatus"
        [inquireAndDisputeTopics]="hostRef.inquireAndDisputeTopics"
        (detailsOpen)="hostRef.onDetailOpen($event)"
      ></bb-transactions-list-item-group-extended>
    </div>
    <ng-container *ngIf="hostRef.isLoading">
      <bb-loading-indicator-ui></bb-loading-indicator-ui>
    </ng-container>
    <span
      class="bb-d-block bb-text-align-center"
      tabindex="0"
      i18n="Displayed message when all transactions had been loaded@@transactions.list.loadedAll"
      *ngIf="hostRef.hasLoadedAll()"
    >
      All transactions have been loaded.
    </span>
  </div></ng-template
><ng-template bbTransactionsListListCustomizable let-hostRef>
  <div class="bb-list bb-list--density-md">
    <div class="bb-list__item" *ngFor="let date of hostRef.transactionsGroupedByDate; trackBy: hostRef.trackByFn">
      <bb-transactions-list-item-group-extended
        [checkImagesList]="hostRef.checkImagesList"
        [transactions]="date[1]"
        [transactionDate]="date[0]"
        [showChangeCategory]="hostRef.showChangeCategory"
        [transactionDetailsLoadingStatus]="hostRef.transactionDetailsLoadingStatus"
        [inquireAndDisputeTopics]="hostRef.inquireAndDisputeTopics"
        (detailsOpen)="hostRef.onDetailOpen($event)"
      ></bb-transactions-list-item-group-extended>
    </div></div></ng-template
><ng-template bbTransactionsListPaginationCustomizable let-hostRef>
  <div class="bb-block bb-text-align-center">
    <bb-pagination-ui
      class="bb-pagination"
      [page]="hostRef.currentPage"
      [boundaryLinks]="true"
      [directionLinks]="true"
      [totalItems]="hostRef.transactionsList.totalCount"
      [itemsPerPage]="hostRef.pageSize"
      [maxNavPages]="hostRef.maxNavPages"
      (pageChange)="hostRef.onPageChange($event)"
      *ngIf="hostRef.isPaginationPaged"
    ></bb-pagination-ui>
    <div data-role="load-more" *ngIf="hostRef.isPaginationLoadMore">
      <bb-load-button-ui
        color="link"
        [isLoading]="hostRef.isLoadingMore"
        [from]="hostRef.currentPage"
        [size]="hostRef.pageSize"
        [totalCount]="hostRef.transactionsList.totalCount"
        (paramChange)="hostRef.onLoadMore($event)"
        i18n="Load more button, when there are still transactions to be loaded@@transactions.list.loadMore"
        *ngIf="!hostRef.hasLoadedAll()"
        >Load more</bb-load-button-ui
      >
      <span
        i18n="Displayed message when all transactions had been loaded@@transactions.list.loadedAll"
        *ngIf="hostRef.hasLoadedAll()"
        >All transactions have been loaded.</span
      >
    </div>
  </div></ng-template
><ng-template bbTransactionsListEmptyStateCustomizable let-hostRef>
  <div class="card-body bb-state-container">
    <!-- Success-empty -->
    <bb-empty-state-ui
      *ngIf="hostRef.transactionsList?.initialRequest === true; else filterSearchEmpty"
      title="No Transactions Found"
      i18n-title="No transactions are found@@transactions.state.noTransactionsFound.title"
      subtitle="You don't have any transactions to be displayed."
      i18n-subtitle="No transactions to be displayed@@transactions.state.noTransactionsFound.subtitle"
      iconSize="xl"
      iconModifier="swap-horiz"
    ></bb-empty-state-ui>
    <!-- Search/Filter empty result -->
    <ng-template #filterSearchEmpty>
      <bb-empty-state-ui
        title="No Results Found"
        i18n-title="No results are found@@transactions.state.noResultsFound.title"
        subtitle="We can\u2019t find what you\u2019re looking for. Please try a different criteria."
        i18n-subtitle="
          Filter/Search returned no results, try a different criteria@@transactions.state.noResultsFound.subtitle"
        iconSize="xl"
        iconModifier="search"
      ></bb-empty-state-ui>
    </ng-template></div
></ng-template>
