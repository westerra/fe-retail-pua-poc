<form *ngIf="formGroup" [formGroup]="formGroup">
  <bb-collapsible-ui class="card" [isOpen]="isCardExpanded">
    <ng-template bbCollapsibleHeader>
      <div
        [ngClass]="isCardExpanded ? 'card-header' : 'card-body'"
        data-role="collapsible-header"
        id="account-notifications-detail-transaction-section"
      >
        <div class="bb-stack">
          <bb-header-ui
            class="bb-stack__item"
            headingType="h5"
            heading="Debits and credits"
            i18n-heading="Debits and credits recipe heading@@actions-common.transactions-recipe.heading"
            data-role="transactions-recipe-header"
          ></bb-header-ui>
          <bb-switch-with-loading
            [isLoading]="isLoading"
            (change)="onActiveLoadingChange()"
            formControlName="active"
            class="bb-stack__item bb-stack__item--push-right"
            aria-label="Enable and expand debits and credits notifications"
            i18n-aria-label="
              Debits and credits switcher aria label@@actions-common.transactions-recipe.switcher.aria-label"
            data-role="transactions-recipe-switcher"
          ></bb-switch-with-loading>
        </div>
        <div
          class="bb-text-support"
          i18n="Debits and credits subheading@@actions-common.transactions-recipe.subheading"
          data-role="transactions-recipe-sub-header"
        >
          Receive notifications when a transaction posts to your account
        </div>
      </div>
    </ng-template>
    <ng-template bbCollapsibleBody>
      <div class="card-body">
        <bb-actions-notification-channels-custom
          formGroupName="actions"
          [actions]="specificationActions"
        ></bb-actions-notification-channels-custom>
      </div>
    </ng-template>
  </bb-collapsible-ui>
</form>
